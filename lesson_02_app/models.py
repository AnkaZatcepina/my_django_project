"""
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ1
    üìå –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –±—Ä–æ—Å–∫–æ–≤ –º–æ–Ω–µ—Ç—ã: –æ—Ä—ë–ª –∏–ª–∏ —Ä–µ—à–∫–∞.
    üìå –¢–∞–∫–∂–µ –∑–∞–ø–æ–º–∏–Ω–∞–π—Ç–µ –≤—Ä–µ–º—è –±—Ä–æ—Å–∫–∞
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ2    
    üìå –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ n –ø–æ—Å–ª–µ–¥–Ω–∏–º –±—Ä–æ—Å–∫–∞–º –º–æ–Ω–µ—Ç—ã.
    üìå –ú–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å–ª–æ–≤–∞—Ä—å —Å –ø–∞—Ä–æ–π –∫–ª—é—á–µ–π-–∑–Ω–∞—á–µ–Ω–∏–π, –¥–ª—è –æ—Ä–ª–∞ –∏ –¥–ª—è —Ä–µ—à–∫–∏.
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ3
    üìå –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –ê–≤—Ç–æ—Ä. –ú–æ–¥–µ–ª—å –¥–æ–ª–∂–Ω–∞ —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è:
        ‚óã –∏–º—è –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤
        ‚óã —Ñ–∞–º–∏–ª–∏—è –¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤
        ‚óã –ø–æ—á—Ç–∞
        ‚óã –±–∏–æ–≥—Ä–∞—Ñ–∏—è
        ‚óã –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
    üìå –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–ª–µ ‚Äú–ø–æ–ª–Ω–æ–µ –∏–º—è‚Äù, –∫–æ—Ç–æ—Ä–æ–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é.    
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ4
    üìå –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –°—Ç–∞—Ç—å—è (–ø—É–±–ª–∏–∫–∞—Ü–∏—è). –ê–≤—Ç–æ—Ä—ã –∏–∑ –ø—Ä–æ—à–ª–æ–π –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å —Å—Ç–∞—Ç—å–∏. 
    –£ —Å—Ç–∞—Ç—å–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∞–≤—Ç–æ—Ä. –£ —Å—Ç–∞—Ç—å–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
        ‚óã –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω–æ–π 200 —Å–∏–º–≤–æ–ª–æ–≤
        ‚óã —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
        ‚óã –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏
        ‚óã –∞–≤—Ç–æ—Ä —Å—Ç–∞—Ç—å–∏ —Å —É–¥–∞–ª–µ–Ω–∏–µ–º —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∞–≤—Ç–æ—Ä–∞
        ‚óã –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å—Ç–∞—Ç—å–∏ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω–æ–π 100 —Å–∏–º–≤–æ–ª–æ–≤
        ‚óã –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ —Å—Ç–∞—Ç—å–∏ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0
        ‚óã —Ñ–ª–∞–≥, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞ –ª–∏ —Å—Ç–∞—Ç—å—è —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é False
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ5
    üìå –°–æ–∑–¥–∞–π —á–µ—Ç—ã—Ä–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ CRUD –≤ –º–æ–¥–µ–ª–∏ Django Article (—Å—Ç–∞—Ç—å—è).
    üìå *–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Django –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π.     
–ó–∞–¥–∞–Ω–∏–µ ‚Ññ6
    üìå –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥–µ–ª—å –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π.
    üìå –ê–≤—Ç–æ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å–≤–æ–∏–º –∏ —á—É–∂–∏–º —Å—Ç–∞—Ç—å—è–º. 
        –¢.–µ. —É –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–¥–∏–Ω –∞–≤—Ç–æ—Ä.
    üìå –ò –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–µ. –£ –º–æ–¥–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–æ–ª—è
        ‚óã –∞–≤—Ç–æ—Ä
        ‚óã —Å—Ç–∞—Ç—å—è
        ‚óã –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
        ‚óã –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
        ‚óã –¥–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è   
"""
from django.db import models
from django.utils import timezone

class Coin(models.Model):
    created_at = models.DateTimeField(default=timezone.now)
    result = models.CharField(max_length=5)

    def __str__(self):
        return f'time: {self.created_at}, result: {self.result}'

    @staticmethod
    def statistic(n: int):
        query = list(Coin.objects.all())
        coins = query[-n:]
        coins_dict = {'–û—Ä—ë–ª': 0, '–†–µ—à–∫–∞': 0}
        for item in coins:
            if '–û—Ä—ë–ª' in str(item):
                coins_dict['–û—Ä—ë–ª'] += 1
            else:
                coins_dict['–†–µ—à–∫–∞'] += 1
        return coins_dict

class Author(models.Model):
    name = models.CharField(max_length = 100)      
    lastname = models.CharField(max_length = 100)    
    email = models.EmailField()
    biography = models.TextField()
    birthday = models.DateField()   

    def fullname(self):
        return f'{self.name} {self.lastname}'

    def __str__(self):
        return f'{self.pk}, {self.name} {self.lastname}, {self.email}'   

class Article(models.Model):
    title = models.CharField(max_length=200)
    content = models.TextField()
    created_date = models.DateField()
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
    category = models.CharField(max_length=100)
    show_count = models.IntegerField(default=0)
    is_published = models.BooleanField(default=False)

    def __str__(self):
        return f'{self.title}, {self.is_published}, {self.author}: {self.content[:20]}...'

class Comment(models.Model):
    author = models.ForeignKey(Author, on_delete=models.CASCADE)
    article = models.ForeignKey(Article, on_delete=models.CASCADE)
    content = models.TextField()
    created_date = models.DateField(auto_now_add=True)
    modificated_date = models.DateField(auto_now_add=True)

    def __str__(self):
        return f'{self.content}, {self.author.id}, {self.article.id}, {self.created_date}'
